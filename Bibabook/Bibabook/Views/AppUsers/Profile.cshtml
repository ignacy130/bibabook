@model Bibabook.Implementation.Models.AppUser

@{
    ViewBag.Title = "Profil użytkownika";
}

<h2>@ViewBag.Title</h2>

<div>
    <h4>UserProfileViewModel</h4>
    <hr />
    <dl class="dl-horizontal">

        <dt>
            @Html.DisplayNameFor(model => model.Name)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Name)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Surname)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Surname)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Email)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Email)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Birthday)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Birthday)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Avatar)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Avatar)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Friends)
        </dt>

        <dd>
            @foreach (var friend in Model.Friends)
            {
                <p>@Html.ActionLink(friend.Name + " " + friend.Surname, "Details", new { id = friend.AppUserID })</p>
            }
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Events)
        </dt>

        <dd>
            @foreach (var evt in Model.Events)
            {
                <p>@Html.ActionLink(evt.Name, "Details", "AppEvents",  new { id = evt.AppEventID }, null)</p>
            }
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Posts)
        </dt>

        <dd>
            @foreach (var post in Model.Posts)
            {
                <p>@post.Author: @post.Content</p>
            }
        </dd>

    </dl>
</div>

    @if (!ViewBag.IsSelf)
    {
        if (!ViewBag.IsFriend) 
        { 
        <p>@Html.ActionLink("Dodaj do znajomych", "AddFriend", new { id = Model.AppUserID })</p>
        }
        else
        {
            <p>@Html.ActionLink("Usun ze znajomych", "RemoveFriend", new { id = Model.AppUserID })</p>
        }
    }
    @if (ViewBag.IsSelf)
    {
        <p>@Html.ActionLink("Zmień dane profilowe", "Edit", new { id = Model.AppUserID })</p>
        <p>@Html.ActionLink("Zmień hasło", "ChangePassword")</p>
        <p>@Html.ActionLink("Zmień avatar", "ChangeAvatar")</p>
    }

